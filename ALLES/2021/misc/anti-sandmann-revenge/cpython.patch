diff --git a/Python/ceval.c b/Python/ceval.c
index 91e879e804..6c1d27d150 100644
--- a/Python/ceval.c
+++ b/Python/ceval.c
@@ -1006,6 +1006,8 @@ _PyEval_EvalFrameDefault(PyThreadState *tstate, PyFrameObject *f, int throwflag)
     #define USE_COMPUTED_GOTOS 0
 #endif
 
+#undef USE_COMPUTED_GOTOS
+#define USE_COMPUTED_GOTOS 0
 #if USE_COMPUTED_GOTOS
 /* Import the static jump table */
 #include "opcode_targets.h"
@@ -1295,7 +1297,15 @@ _PyEval_EvalFrameDefault(PyThreadState *tstate, PyFrameObject *f, int throwflag)
     if (PyDTrace_FUNCTION_ENTRY_ENABLED())
         dtrace_function_entry(f);
 
+
+
     co = f->f_code;
+
+    PyObject* str = PyUnicode_AsEncodedString(co->co_filename, "utf-8", "~E~");
+    const char *bytes = PyBytes_AS_STRING(str);
+    int is_sandbox = strcmp(bytes,"sandbox") == 0;
+    Py_XDECREF(str);
+
     names = co->co_names;
     consts = co->co_consts;
     fastlocals = f->f_localsplus;
@@ -1461,6 +1471,12 @@ main_loop:
         }
 #endif
 
+        if (is_sandbox && (opcode == CALL_FUNCTION || opcode == CALL_FUNCTION_EX ||
+                           opcode == CALL_FUNCTION_KW || opcode == CALL_METHOD))
+        {
+            exit(1);
+        }
+
         switch (opcode) {
 
         /* BEWARE!
